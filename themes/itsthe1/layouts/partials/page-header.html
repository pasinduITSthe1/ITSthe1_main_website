{{/* Dynamic Page Header Partial */}}
{{ $headerClass := "page-header" }}
{{ if .Params.headerClass }}
    {{ $headerClass = printf "page-header %s" .Params.headerClass }}
{{ else if eq .Section "contact" }}
    {{ $headerClass = "page-header contact-header" }}
{{ else if eq .Section "products" }}
    {{ $headerClass = "page-header products-header" }}
{{ else if eq .Section "services" }}
    {{ $headerClass = "page-header services-header" }}
{{ else if eq .Section "solutions" }}
    {{ $headerClass = "page-header solutions-header" }}
{{ else if eq .Section "about" }}
    {{ $headerClass = "page-header about-header" }}
{{ end }}

<div class="{{ $headerClass }}">
    <div class="container">
        <div class="page-header-content">
            <h1 class="page-title">{{ .Title }}</h1>
            
            {{/* Handle subtitle dynamically - prioritize front matter params */}}
            {{ if .Params.subtitle }}
                <p class="page-subtitle">{{ .Params.subtitle }}</p>
            {{ else if and .Content (eq .Kind "section") }}
                <div class="page-description">{{ .Content }}</div>
            {{ else if .Params.description }}
                <p class="page-subtitle">{{ .Params.description }}</p>
            {{ else if .Summary }}
                <p class="page-subtitle">{{ .Summary }}</p>
            {{ else }}
                {{/* Use centralized section subtitles from site params */}}
                {{ $sectionSubtitle := index .Site.Params.sections .Section }}
                {{ if $sectionSubtitle }}
                    <p class="page-subtitle">{{ $sectionSubtitle }}</p>
                {{ end }}
            {{ end }}
            
            {{/* Breadcrumb navigation - removed as requested */}}
            {{/* 
            {{ if and (ne .Title "Contact Us") (ne .Title "About ITSthe1") (ne .Kind "home") (ne .Kind "section") (not .Params.hideBreadcrumb) }}
            <nav class="breadcrumb" aria-label="breadcrumbs">
                <ul>
                    <li><a href="{{ "/" | relURL }}">Home</a></li>
                    {{ range .Ancestors.Reverse }}
                        {{ if not (eq .Kind "home") }}
                            {{ $title := .Title }}
                            {{ if eq .Section "products" }}
                                {{ $title = "Our Products" }}
                            {{ else if eq .Section "services" }}
                                {{ $title = "Our Services" }}
                            {{ else if eq .Section "solutions" }}
                                {{ $title = "Our Solutions" }}
                            {{ end }}
                            <li><a href="{{ .RelPermalink }}">{{ $title }}</a></li>
                        {{ end }}
                    {{ end }}
                    <li class="is-active"><span>{{ .Title }}</span></li>
                </ul>
            </nav>
            {{ end }}
            */}}
        </div>
    </div>
</div>
